<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <h:head>
        <title>Página Inicial</title>

    </h:head>
    <h:body>

        <b:growl delay="4000" show-summary="true" show-detail="true"/>

        <c:if test="#{loginController.usuarioLogado ne null and loginController.tipoLogado eq 'usuario'}">
            <script>location.href = "indexResumo.xhtml"</script>
        </c:if>

        <b:jumbotron>
            <h1>InvestiDor</h1>
        </b:jumbotron>

        <p:dialog draggable="false" resizable="false" visible="true"
                  closable="false" closeOnEscape="false" modal="false">

            <f:facet name="header">
                Bem-vindo, faça seu login!
            </f:facet>

            <b:form id="formLogin">
                <b:panelGrid columns="1">
                    <h:outputText value="login:"/>
                    <b:inputText value="#{login}"/>

                    <h:outputText value="senha:"/>
                    <b:inputSecret value="#{senha}"/>
                </b:panelGrid>
                <p:panel>
                    <h5>registre-se</h5>
                    <b:link value="Criar conta investidor" onclick="$('#modalCadUsuario').modal('show')"/><br/>
                </p:panel>
                <b:commandButton value="logar" style="float: right"
                                 style-class="btn btn-primary"
                                 action="#{loginController.logar(login, senha)}"/>
            </b:form>


        </p:dialog>

        
        <b:modal id="modalCadUsuario" style-class="fade modal-fade"
                 title="Cadastre-se em nosso sistema">

            <b:form id="formCadPuxador">
                <b:panelGrid columns="2">

                    <h:outputText value="CPF"/>
                    <b:inputText value="#{usuarioController.usuario.cpf}"/>

                    <h:outputText value="Nome"/>
                    <b:inputText value="#{usuarioController.usuario.nome}"/>

                    <h:outputText value="Sobrenome"/>
                    <b:inputText value="#{usuarioController.usuario.sobrenome}"/>

                    <h:outputText value="Telefone"/>
                    <b:inputText value="#{usuarioController.usuario.telefone}"/>

                    <h:outputText value="e-mail"/>
                    <b:inputText value="#{usuarioController.usuario.email}"/>

                    <h:outputText value="Senha"/>
                    <b:inputSecret value="#{usuarioController.usuario.senha}"/>

                    <h:outputText value="Confirma"/>
                    <b:inputSecret value="#{confirma}"/>
                </b:panelGrid>
                <b:commandButton value="registrar" action="#{usuarioController.inserir(confirma)}"/>
            </b:form>

        </b:modal>

    </h:body>
</html>

