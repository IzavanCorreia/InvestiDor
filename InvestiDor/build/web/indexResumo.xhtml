<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <h:head>
        <title>Resumo</title>
        <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
        <script>
            let lista = [];
            lista.push(['Tipo', 'Valor']);
            lista.push(['Renda Fixa', #{usuarioController.getValorTotalRendasFixasPorUsuario(loginController.usuarioLogado.id)}]);
            lista.push(['Renda Variável', #{usuarioController.getValorTotalRendasVariaveisPorUsuario(loginController.usuarioLogado.id)}]);
        </script>

        <script type="text/javascript">
            google.charts.load('current', {'packages': ['corechart']});
            google.charts.setOnLoadCallback(drawChart);

            function drawChart() {
                var data = google.visualization.arrayToDataTable(lista);
                var options = {
                    title: 'Resumo das Rendas Fixas e Variáveis',
                    is3D: true
                };

                var chart = new google.visualization.PieChart(document.getElementById('piechart'));

                chart.draw(data, options);
            }
        </script>
    </h:head>
    <h:body>
        <ui:include src="MenuUsuario.xhtml"/>
        <div id="piechart" style="width: 900px; height: 500px;"></div>
    </h:body>

</html>
